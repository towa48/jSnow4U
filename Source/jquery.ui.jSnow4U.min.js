(function(n){"use strict";n.widget("ui.jSnow4U",{options:{snowmax:35,snowcolor:["#aaaacc","#ddddFF","#ccccDD"],snowtype:["Arial Black","Arial Narrow","Times","Comic Sans MS"],snowletter:"*",sinkspeed:.6,snowmaxsize:22,snowminsize:8,snowingzone:1},_po:{div:null,snow:[],marginbottom:0,marginright:0,timer:null,crds:[],x_mv:[],lftrght:[]},_create:function(){n.browser.netscape=document.getElementById&&!document.all,this._po.div=n("<div/>").attr("id","ui-jsnow4u");for(var i="",t=0;t<=this.options.snowmax;t++)i+="<span id='ui-jsnow4u-s"+t+"' style='position:absolute;top:-"+this.options.snowmaxsize+"'>"+this.options.snowletter+"</span>";this._po.div.html(i),n("body").append(this._po.div),this._initSnow()},_randomMaker:function(n){return Math.floor(n*Math.random())},_initSnow:function(){var t,i;for(n.browser.msie||n.browser.opera?(this._po.marginbottom=document.body.clientHeight,this._po.marginright=document.body.clientWidth):n.browser.netscape&&(this._po.marginbottom=window.innerHeight,this._po.marginright=window.innerWidth),i=this.options.snowmaxsize-this.options.snowminsize,t=0;t<=this.options.snowmax;t++)this._po.crds[t]=0,this._po.lftrght[t]=Math.random()*15,this._po.x_mv[t]=.03+Math.random()/10,this._po.snow[t]=this._po.div.find("#ui-jsnow4u-s"+t),this._po.snow[t][0].style.fontFamily=this.options.snowtype[this._randomMaker(this.options.snowtype.length)],this._po.snow[t][0].size=this._randomMaker(i)+this.options.snowminsize,this._po.snow[t][0].style.fontSize=this._po.snow[t][0].size,this._po.snow[t][0].style.color=this.options.snowcolor[this._randomMaker(this.options.snowcolor.length)],this._po.snow[t][0].sink=this.options.sinkspeed*this._po.snow[t][0].size/5,this.options.snowingzone==1?this._po.snow[t][0].posx=this._randomMaker(this._po.marginright-this._po.snow[t][0].size):this.options.snowingzone==2?this._po.snow[t][0].posx=this._randomMaker(this._po.marginright/2-this._po.snow[t][0].size):this.options.snowingzone==3?this._po.snow[t][0].posx=this._randomMaker(this._po.marginright/2-this._po.snow[t][0].size)+this._po.marginright/4:this.options.snowingzone==4&&(this._po.snow[t][0].posx=this._randomMaker(this._po.marginright/2-this._po.snow[t][0].size)+this._po.marginright/2),this._po.snow[t][0].posy=this._randomMaker(6*this._po.marginbottom-this._po.marginbottom-6*this._po.snow[t][0].size),this._po.snow[t].css("left",this._po.snow[t].posx),this._po.snow[t].css("top",this._po.snow[t].posy);this._moveSnow()},_moveSnow:function(){for(var t=this,n=0;n<=this.options.snowmax;n++)this._po.crds[n]+=this._po.x_mv[n],this._po.snow[n][0].posy+=this._po.snow[n][0].sink,this._po.snow[n].css("left",this._po.snow[n][0].posx+this._po.lftrght[n]*Math.sin(this._po.crds[n])),this._po.snow[n].css("top",this._po.snow[n][0].posy),(this._po.snow[n][0].posy>=this._po.marginbottom-6*this._po.snow[n][0].size||parseInt(this._po.snow[n][0].style.left)>this._po.marginright-3*this._po.lftrght[n])&&(this.options.snowingzone==1?this._po.snow[n][0].posx=this._randomMaker(this._po.marginright-this._po.snow[n][0].size):this.options.snowingzone==2?this._po.snow[n][0].posx=this._randomMaker(this._po.marginright/2-this._po.snow[n][0].size):this.options.snowingzone==3?this._po.snow[n][0].posx=this._randomMaker(this._po.marginright/2-this._po.snow[n][0].size)+this._po.marginright/4:this.options.snowingzone==4&&(this._po.snow[n][0].posx=this._randomMaker(this._po.marginright/2-this._po.snow[n][0].size)+this._po.marginright/2),this._po.snow[n][0].posy=0);this._po.timer=setTimeout(function(){t._moveSnow()},50)},_setOption:function(n,t){this.options[n]=t},destroy:function(){}})})(jQuery)